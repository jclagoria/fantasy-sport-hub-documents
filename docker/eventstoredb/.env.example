# EventStoreDB Configuration
# Copy this file to .env and adjust values for your environment

# ====================================
# Connection Settings
# ====================================
# Connection string for EventStoreDB (format: esdb://[user]:[password]@[host]:[http-port]?tls=[true|false])
EVENTSTOREDB_CONNECTION_STRING={{EVENTSTOREDB_CONNECTION_STRING}}

# Hostname where EventStoreDB is running
EVENTSTOREDB_HOST={{EVENTSTOREDB_HOST}}

# TCP port for EventStoreDB (default: 1113 for unencrypted, 1112 for TLS)
EVENTSTOREDB_TCP_PORT={{EVENTSTOREDB_TCP_PORT}}

# HTTP port for the Admin UI and HTTP API (default: 2113 for HTTP, 2114 for HTTPS)
EVENTSTOREDB_HTTP_PORT={{EVENTSTOREDB_HTTP_PORT}}

# ====================================
# Authentication
# ====================================
# Admin username for EventStoreDB
EVENTSTOREDB_ADMIN_USER={{EVENTSTOREDB_ADMIN_USER}}

# Admin password (change this in production!)
EVENTSTOREDB_ADMIN_PASSWORD={{EVENTSTOREDB_ADMIN_PASSWORD}}

# ====================================
# Performance Settings
# ====================================
# Size of each chunk file in bytes (default: 256MB)
EVENTSTOREDB_CHUNK_SIZE={{EVENTSTOREDB_CHUNK_SIZE}}

# Size of the chunk cache in bytes (default: 512MB)
EVENTSTOREDB_CHUNK_CACHE_SIZE={{EVENTSTOREDB_CHUNK_CACHE_SIZE}}

# Maximum number of entries in memory table before flush (default: 1,000,000)
EVENTSTOREDB_MAX_MEM_TABLE_SIZE={{EVENTSTOREDB_MAX_MEM_TABLE_SIZE}}

# ====================================
# Projections
# ====================================
# Projections mode: None, System, or All
EVENTSTOREDB_RUN_PROJECTIONS={{EVENTSTOREDB_RUN_PROJECTIONS}}

# Whether to start standard projections automatically
EVENTSTOREDB_START_STANDARD_PROJECTIONS={{EVENTSTOREDB_START_STANDARD_PROJECTIONS}}

# ====================================
# Scavenging (Data Cleanup)
# ====================================
# Maximum age (in days) of events to keep during scavenging
EVENTSTOREDB_SCAVENGE_HISTORY_MAX_AGE={{EVENTSTOREDB_SCAVENGE_HISTORY_MAX_AGE}}

# ====================================
# Logging
# ====================================
# Log level: Verbose, Debug, Information, Warning, Error, Fatal
EVENTSTOREDB_LOG_LEVEL={{EVENTSTOREDB_LOG_LEVEL}}

# ====================================
# Resource Limits
# ====================================
# Maximum memory allocation for EventStoreDB (e.g., 4G, 8G)
EVENTSTOREDB_MEMORY_LIMIT={{EVENTSTOREDB_MEMORY_LIMIT}}

# CPU limit (in number of cores)
EVENTSTOREDB_CPU_LIMIT={{EVENTSTOREDB_CPU_LIMIT}}

# ====================================
# Stream Configuration
# ====================================
# Maximum size of an append in bytes (default: 1MB)
EVENTSTOREDB_MAX_APPEND_SIZE={{EVENTSTOREDB_MAX_APPEND_SIZE}}

# ====================================
# Backup Settings
# ====================================
# Directory where backups will be stored (relative to container)
EVENTSTOREDB_BACKUP_PATH={{EVENTSTOREDB_BACKUP_PATH}}

# Number of days to keep backup files before cleanup
EVENTSTOREDB_BACKUP_RETENTION_DAYS={{EVENTSTOREDB_BACKUP_RETENTION_DAYS}}
